<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Glossary" href="glossary.html" /><link rel="prev" title="Purpose" href="index.html" />

    <link rel="shortcut icon" href="_static/rubicon_logo_favicon.png"/><meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>Quick Look - rubicon-ml v0.2.5</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand"><div class='hidden'>rubicon-ml</div> <div class='version'> v0.2.5</div></div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/images/rubicon_ml_logo_offset_light.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/images/rubicon_ml_logo_offset_dark.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text"><div class='hidden'>rubicon-ml</div> <div class='version'> v0.2.5</div></span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Quick Look</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="library_reference.html">Library Reference</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="examples.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="logging-examples/logging-basics.html">Logging Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging-examples/logging-training-metadata.html">Logging Training Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging-examples/visualizing-logged-dataframes.html">Visualizing Logged Dataframes</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging-examples/logging-asynchronously.html">Logging Asynchronously</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging-examples/logging-concurrently.html">Logging Concurrently</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="integrations.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="integrations/integration-git.html">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations/integration-prefect-workflows.html">Prefect</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations/integration-sklearn.html">Scikit-learn</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQs</a></li>
</ul>
<p class="caption"><span class="caption-text">Community:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/capitalone/rubicon-ml/releases">Changelog</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/capitalone/rubicon-ml/issues/new/choose">Feedback</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/capitalone/rubicon-ml">GitHub</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p><a href="https://github.com/capitalone/rubicon-ml/tree/main/notebooks/quick-look.ipynb" target="_blank">View this notebook on GitHub</a> or <a href="https://mybinder.org/v2/gh/capitalone/rubicon-ml/main?filepath=notebooks/quick-look.ipynb" target="_blank">run it yourself on Binder</a>!</p>
<hr class="docutils"/>
<div class="section" id="Quick-Look">
<h1>Quick Look<a class="headerlink" href="#Quick-Look" title="Permalink to this headline">¶</a></h1>
<p>This is a simple classification example based on <a class="reference external" href="https://scikit-learn.org/stable/auto_examples/preprocessing/plot_scaling_importance.html#sphx-glr-auto-examples-preprocessing-plot-scaling-importance-py">this Scikit-learn example</a>. The wine dataset used in this example classifies different Italian wines by the cultivators that produced them based on 13 features describing their chemical makeup. More infomation on this dataset can be found by running <code class="docutils literal notranslate"><span class="pre">print(wine.DESCR)</span></code> after the dataset has
been loaded.</p>
<p>We’ll use this example to take a quick look at each of <code class="docutils literal notranslate"><span class="pre">rubicon_ml</span></code>’s core components - logging, the dashboard, and our sharing process.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_wine</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>


<span class="n">wine</span> <span class="o">=</span> <span class="n">load_wine</span><span class="p">()</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">wine</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
    <span class="n">wine</span><span class="o">.</span><span class="n">target</span><span class="p">,</span>
    <span class="n">test_size</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="Logging-Library">
<h2>Logging Library<a class="headerlink" href="#Logging-Library" title="Permalink to this headline">¶</a></h2>
<p>The logging library provides an API for storing and retrieving model inputs, outputs, and analyses. Using <code class="docutils literal notranslate"><span class="pre">fsspec</span></code>, it supports three types of persistence:</p>
<ul class="simple">
<li><p><strong>local</strong>: for personal projects and individual exploration</p></li>
<li><p><strong>S3</strong>: for collaborating, sharing, and backing up local work</p></li>
<li><p><strong>in-memory</strong>: for testing and development - no need to clean up after yourself!</p></li>
</ul>
<p>Within <code class="docutils literal notranslate"><span class="pre">rubicon_ml</span></code>, the implementations of these filesystems are very lightweight, with most functionality coming directly from <code class="docutils literal notranslate"><span class="pre">fsspec</span></code>. In fact, <code class="docutils literal notranslate"><span class="pre">rubicon_ml</span></code>’s persistence layer is designed to be easily extensible and could be extended to support any other type of persistence that <code class="docutils literal notranslate"><span class="pre">fsspec</span></code> supports.</p>
<div class="section" id="Local-Logging">
<h3>Local Logging<a class="headerlink" href="#Local-Logging" title="Permalink to this headline">¶</a></h3>
<p>First, we’ll configure our <code class="docutils literal notranslate"><span class="pre">Rubicon</span></code> object and create a project.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">rubicon_ml</span> <span class="kn">import</span> <span class="n">Rubicon</span>


<span class="n">root_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"RUBICON_ROOT"</span><span class="p">,</span> <span class="s2">"rubicon-root"</span><span class="p">)</span>
<span class="n">root_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">root_dir</span><span class="si">}</span><span class="s2">"</span>

<span class="n">rubicon</span> <span class="o">=</span> <span class="n">Rubicon</span><span class="p">(</span><span class="n">persistence</span><span class="o">=</span><span class="s2">"filesystem"</span><span class="p">,</span> <span class="n">root_dir</span><span class="o">=</span><span class="n">root_path</span><span class="p">)</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">rubicon</span><span class="o">.</span><span class="n">get_or_create_project</span><span class="p">(</span><span class="s2">"Wine Classification"</span><span class="p">)</span>

<span class="n">project</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;rubicon_ml.client.project.Project at 0x15ac30370&gt;
</pre></div></div>
</div>
<p>We’ll also create a <code class="docutils literal notranslate"><span class="pre">run_experiment</span></code> function to abstract our logging into a single spot. This isn’t necessary - <code class="docutils literal notranslate"><span class="pre">rubicon_ml</span></code> is designed to be flexible and fit into your workflow however you see fit!</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">make_pipeline</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>


<span class="k">def</span> <span class="nf">run_experiment</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">is_standardized</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">experiment</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">log_experiment</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="n">GaussianNB</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="n">experiment</span><span class="o">.</span><span class="n">log_parameter</span><span class="p">(</span><span class="s2">"is_standardized"</span><span class="p">,</span> <span class="n">is_standardized</span><span class="p">)</span>
    <span class="n">experiment</span><span class="o">.</span><span class="n">log_parameter</span><span class="p">(</span><span class="s2">"n_components"</span><span class="p">,</span> <span class="n">n_components</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">wine</span><span class="o">.</span><span class="n">feature_names</span><span class="p">:</span>
        <span class="n">experiment</span><span class="o">.</span><span class="n">log_feature</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">is_standardized</span><span class="p">:</span>
        <span class="n">classifier</span> <span class="o">=</span> <span class="n">make_pipeline</span><span class="p">(</span>
            <span class="n">StandardScaler</span><span class="p">(),</span>
            <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n_components</span><span class="p">),</span>
            <span class="n">GaussianNB</span><span class="p">(),</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">classifier</span> <span class="o">=</span> <span class="n">make_pipeline</span><span class="p">(</span>
            <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n_components</span><span class="p">),</span>
            <span class="n">GaussianNB</span><span class="p">(),</span>
        <span class="p">)</span>

    <span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
    <span class="n">pred_test</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">pred_test</span><span class="p">)</span>

    <span class="n">experiment</span><span class="o">.</span><span class="n">log_metric</span><span class="p">(</span><span class="s2">"accuracy"</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">)</span>

    <span class="n">confusion_matrix</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span>
        <span class="n">wine</span><span class="o">.</span><span class="n">target_names</span><span class="p">[</span><span class="n">y_test</span><span class="p">],</span>
        <span class="n">wine</span><span class="o">.</span><span class="n">target_names</span><span class="p">[</span><span class="n">pred_test</span><span class="p">],</span>
        <span class="n">rownames</span><span class="o">=</span><span class="p">[</span><span class="s2">"actual"</span><span class="p">],</span>
        <span class="n">colnames</span><span class="o">=</span><span class="p">[</span><span class="s2">"predicted"</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="n">experiment</span><span class="o">.</span><span class="n">log_dataframe</span><span class="p">(</span>
        <span class="n">confusion_matrix</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">"confusion matrix"</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">accuracy</span> <span class="o">&gt;=</span> <span class="mf">.9</span><span class="p">:</span>
        <span class="n">experiment</span><span class="o">.</span><span class="n">add_tags</span><span class="p">([</span><span class="s2">"success"</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">experiment</span><span class="o">.</span><span class="n">add_tags</span><span class="p">([</span><span class="s2">"failure"</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>Now we can run our experiment across a few different parameter sets! We’ll end up with 14 unique experiments.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">is_standardized</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]:</span>
    <span class="k">for</span> <span class="n">n_components</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">run_experiment</span><span class="p">(</span>
            <span class="n">project</span><span class="p">,</span>
            <span class="n">is_standardized</span><span class="o">=</span><span class="n">is_standardized</span><span class="p">,</span>
            <span class="n">n_components</span><span class="o">=</span><span class="n">n_components</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="S3-Logging">
<h3>S3 Logging<a class="headerlink" href="#S3-Logging" title="Permalink to this headline">¶</a></h3>
<p>Logging to S3 is as simple as changing the <code class="docutils literal notranslate"><span class="pre">root_dir</span></code> when instantiating the <code class="docutils literal notranslate"><span class="pre">Rubicon</span></code> object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rubicon</span> <span class="o">=</span> <span class="n">Rubicon</span><span class="p">(</span>
    <span class="n">persistence</span><span class="o">=</span><span class="s2">"filesystem"</span><span class="p">,</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">"s3://my-bucket/path/to/rubicon-root"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="In-memory-Logging">
<h3>In-memory Logging<a class="headerlink" href="#In-memory-Logging" title="Permalink to this headline">¶</a></h3>
<p>The same is true of in-memory logging! In-memory logging doesn’t require a <code class="docutils literal notranslate"><span class="pre">root_dir</span></code>, but if you’re working with other in-memory <code class="docutils literal notranslate"><span class="pre">fsspec</span></code> filesystems you can still provide one.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rubicon</span> <span class="o">=</span> <span class="n">Rubicon</span><span class="p">(</span><span class="n">persistence</span><span class="o">=</span><span class="s2">"memory"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Dashboard">
<h2>Dashboard<a class="headerlink" href="#Dashboard" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rubicon_ml</span></code> comes with a UI add-on (installable as rubicon-ml[ui] if you’re using <code class="docutils literal notranslate"><span class="pre">pip</span></code> to manage your Python environment) that allows you to explore, visualize, and compare data within your projects. If you have <code class="docutils literal notranslate"><span class="pre">git</span></code> integration enabled, the dashboard will group your experiments by commit automatically and link you directly to the corresponding model code.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">rubicon_ml.ui</span> <span class="kn">import</span> <span class="n">Dashboard</span>


<span class="n">Dashboard</span><span class="p">(</span><span class="n">persistence</span><span class="o">=</span><span class="s2">"filesystem"</span><span class="p">,</span> <span class="n">root_dir</span><span class="o">=</span><span class="n">root_path</span><span class="p">)</span><span class="o">.</span><span class="n">run_server</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
 * Running on http://127.0.0.1:8050/ (Press CTRL+C to quit)
127.0.0.1 - - [12/May/2021 09:58:14] "<span class="ansi-white-fg">GET /_alive_10a36bff-b1c3-4f41-951e-b57ddc890f93 HTTP/1.1</span>" 200 -
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Dash app running on http://127.0.0.1:8050/
</pre></div></div>
</div>
<img alt="dashboard" src="_images/quick-look-dashboard.png"/>
<p>By default, the dashboard launches on your localhost’s port 8050. To view the dashboard inline in a notebook or in a new JupyterLab window, instantiate the <code class="docutils literal notranslate"><span class="pre">Dashboard</span></code> object with <code class="docutils literal notranslate"><span class="pre">mode="inline"</span></code> or <code class="docutils literal notranslate"><span class="pre">mode="jupyterlab"</span></code>, respectively.</p>
<p>You don’t even have to launch the dashboard from a Python interpreter. <code class="docutils literal notranslate"><span class="pre">rubicon_ml</span></code> comes packaged with a CLI that can launch the dashboard from your terminal.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rubicon_ml ui --root-dir ./rubicon-root
</pre></div>
</div>
</div>
<div class="section" id="Publishing-&amp;-Sharing">
<h2>Publishing &amp; Sharing<a class="headerlink" href="#Publishing-&amp;-Sharing" title="Permalink to this headline">¶</a></h2>
<p>Once you have a project stored in S3, anyone with access to that bucket can use the Python library to pull down your project and explore the data themselves or they can visualize the project within the dashboard.</p>
<p>Additionally, <code class="docutils literal notranslate"><span class="pre">rubicon_ml</span></code> offers a process to share a selected subset of your logged data via publishing and consuming custom <a class="reference external" href="https://github.com/intake/intake">Intake</a> catalogs.</p>
<div class="section" id="Publishing">
<h3>Publishing<a class="headerlink" href="#Publishing" title="Permalink to this headline">¶</a></h3>
<p>Here, we’ll publish some experiments by generating an Intake catalog. The catalog file, generated as YAML, simply points to the actual data and can be shared and versioned independently of your <code class="docutils literal notranslate"><span class="pre">rubicon_ml</span></code> project data.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">experiment_tags</span></code> parameter to publish experiments with specific tags, like <strong>success</strong>. The resulting file will have a root <code class="docutils literal notranslate"><span class="pre">sources</span></code> key, followed by a number of sources representing experiments and/or projects. In this example, you’ll notice the <code class="docutils literal notranslate"><span class="pre">urlpaths</span></code> are all local since we’re using a local filesystem. Publishing is most useful when refrencing remote data in S3. That’s because publishing does not change or move the data - it only references it’s location.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rubicon</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
    <span class="n">project</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="n">experiment_tags</span><span class="o">=</span><span class="p">[</span><span class="s2">"success"</span><span class="p">],</span>
    <span class="n">output_filepath</span><span class="o">=</span><span class="s2">"./wine_catalog.yml"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span> head -7 wine_catalog.yml
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
sources:
  experiment_54d24e34_c0af_4565_909d_65b5900ba0e0:
    args:
      experiment_id: 54d24e34-c0af-4565-909d-65b5900ba0e0
      project_name: Wine Classification
      urlpath: /Users/ryan/oss/rubicon/notebooks/rubicon-root
    driver: rubicon_ml_experiment
</pre></div></div>
</div>
</div>
<div class="section" id="Consuming-Published-Projects-&amp;-Experiments">
<h3>Consuming Published Projects &amp; Experiments<a class="headerlink" href="#Consuming-Published-Projects-&amp;-Experiments" title="Permalink to this headline">¶</a></h3>
<p>If you’ve been given a catalog of published experiments, you can easily load these with <code class="docutils literal notranslate"><span class="pre">intake</span></code> and the custom <code class="docutils literal notranslate"><span class="pre">rubicon_ml.intake_rubicon</span></code> driver, which both come packaged with the Python library.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">intake</span>


<span class="n">catalog</span> <span class="o">=</span> <span class="n">intake</span><span class="o">.</span><span class="n">open_catalog</span><span class="p">(</span><span class="s2">"./wine_catalog.yml"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Then, you can use the <code class="docutils literal notranslate"><span class="pre">catalog</span></code> object to load the published projects or experiments into memory. From there, you’ll have a <code class="docutils literal notranslate"><span class="pre">rubicon_ml.Project</span></code> or <code class="docutils literal notranslate"><span class="pre">rubicon_ml.Experiment</span></code> object you can use as you normally would!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">first_source</span> <span class="o">=</span> <span class="n">catalog</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">catalog</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span>

<span class="n">first_source</span><span class="o">.</span><span class="n">discover</span><span class="p">()</span>
<span class="n">first_source</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;rubicon_ml.client.experiment.Experiment at 0x15f5437c0&gt;
</pre></div></div>
</div>
<p>Since this catalog doesn’t point to any remote data, its not super useful. Let’s clean up after ourselves and get rid of it.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span> rm wine_catalog.yml
</pre></div>
</div>
</div>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="glossary.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Glossary</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, rubicon-ml developers
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/quick-look.ipynb.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Quick Look</a><ul>
<li><a class="reference internal" href="#Logging-Library">Logging Library</a><ul>
<li><a class="reference internal" href="#Local-Logging">Local Logging</a></li>
<li><a class="reference internal" href="#S3-Logging">S3 Logging</a></li>
<li><a class="reference internal" href="#In-memory-Logging">In-memory Logging</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Dashboard">Dashboard</a></li>
<li><a class="reference internal" href="#Publishing-&amp;-Sharing">Publishing &amp; Sharing</a><ul>
<li><a class="reference internal" href="#Publishing">Publishing</a></li>
<li><a class="reference internal" href="#Consuming-Published-Projects-&amp;-Experiments">Consuming Published Projects &amp; Experiments</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>